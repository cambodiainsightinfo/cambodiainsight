---
import { LOGO_IMAGE, SITE } from "@config";
import { Image } from "astro:assets";

const currentYear = new Date().getFullYear();

export interface Props {
  noMarginTop?: boolean;
}

const { noMarginTop = false } = Astro.props;
---

<footer
  class={`bg-black px-6 py-12 text-white ${noMarginTop ? "" : "mt-auto"}`}
>
  <div class="lg:grid-cols-3 mx-auto mb-12 grid max-w-7xl gap-8 sm:grid-cols-3">
    {/* Brand Section */}
    <div class="lg:col-span-1">
      <a href="/" class="logo whitespace-nowrap">
        {
          LOGO_IMAGE.enable ? (
            <Image
              src="/assets/logo.png"
              alt={SITE.title}
              width={100}
              height={100}
              class="h-[80px] w-[170px] sm:h-[100px] sm:w-[240px]"
            />
          ) : (
            SITE.title
          )
        }</a
      >
      <p class="mb-8 text-sm leading-relaxed text-gray-400">
        Stay updated with the latest news, stories, and insights from around the
        globe.
      </p>
    </div>

    {/* Pages Section */}
    <div>
      <h3
        class="mb-6 text-sm font-semibold uppercase tracking-wider text-white"
      >
        Quick Links
      </h3>
      <div class="space-y-4">
        <a
          href="/about"
          class="block text-sm text-gray-400 transition-colors hover:text-white"
        >
          About us
        </a>
        <a
          href="/news"
          class="block text-sm text-gray-400 transition-colors hover:text-white"
        >
          News
        </a>
        <a
          href="#"
          class="block text-sm text-gray-400 transition-colors hover:text-white"
        >
          Contact us
        </a>
      </div>
    </div>

    {/* Categories Section */}
    <div>
      <h3
        class="mb-6 text-sm font-semibold uppercase tracking-wider text-white"
      >
        CATEGORIES
      </h3>
      <div class="space-y-4">
        <a
          href="/tags/hot-news"
          class="block text-sm text-gray-400 transition-colors hover:text-white"
        >
          Hot News
        </a>
        <a
          href="/tags/world-news"
          class="block text-sm text-gray-400 transition-colors hover:text-white"
        >
          World News
        </a>
        <a
          href="/tags/writer"
          class="block text-sm text-gray-400 transition-colors hover:text-white"
        >
          Writer
        </a>
        <a
          href="/tags/tourism"
          class="block text-sm text-gray-400 transition-colors hover:text-white"
        >
          Tourism
        </a>
      </div>
    </div>
  </div>

  {/* Bottom Section */}
  <div class="border-t border-gray-800 pt-8">
    <div
      class="md:flex-row flex flex-col items-center justify-between text-sm text-gray-400"
    >
      <p>Â© {currentYear} Cambodia Insight.</p>
      <p>
        Powered by{" "}
        <span class="text-white hover:underline"> Cambodia Insight </span>
      </p>
    </div>
  </div>
</footer>

<style>
  footer {
    @apply w-full;
  }
  .footer-wrapper {
    @apply flex flex-col items-center justify-between py-6 sm:flex-row-reverse sm:py-4;
  }
  .link-button {
    @apply my-1 p-2 hover:rotate-6;
  }
  .link-button svg {
    @apply scale-125;
  }
  .copyright-wrapper {
    @apply my-2 flex flex-col items-center whitespace-nowrap sm:flex-row;
  }
  .separator {
    @apply hidden sm:inline;
  }
</style>
